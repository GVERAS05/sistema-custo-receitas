<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Sistema de Custeio</title>

<script src="ingredientes.js"></script>
<script src="app.js" defer></script>

<style>
body { font-family: Arial; padding: 20px; }
input, select { padding: 4px; }
table { border-collapse: collapse; width: 100%; margin-top: 10px; }
th, td { border: 1px solid #ccc; padding: 6px; text-align: center; }
ul { border: 1px solid #ccc; max-height: 150px; overflow-y: auto; padding: 0; }
li { list-style: none; padding: 6px; cursor: pointer; }
li:hover { background: #eee; }
</style>
</head>

<body>

<h2>Buscar item</h2>
<input type="text" onkeyup="buscar(this.value)">
<ul id="lista"></ul>

<h2>Receita</h2>

<table>
<thead>
<tr>
<th>Item</th>
<th>Qtd usada</th>
<th>Unidade usada</th>
<th>Tipo de compra</th>
<th>Pre√ßo compra (R$)</th>
<th>Custo (R$)</th>
</tr>
</thead>
<tbody id="tabela"></tbody>
</table>

<h3>Total: R$ <span id="total">0.00</span></h3>

<script>
function buscar(txt){
  const ul=document.getElementById("lista");
  ul.innerHTML="";
  if(!txt) return;

  ingredientes
    .filter(i=>i.nome.toLowerCase().includes(txt.toLowerCase()))
    .forEach(i=>{
      const li=document.createElement("li");
      li.textContent=i.nome;
      li.onclick=()=>adicionarItem(i.nome);
      ul.appendChild(li);
    });
}
</script>

</body>
</html>
