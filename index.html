<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Calculadora de Custos Profissional</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<style>
/* ===== Corpo ===== */
body {
  margin: 0;
  padding: 20px;
  font-family: 'Roboto', sans-serif;
  background: #FAF9F6;
  color: #212121;
}

/* ===== Container ===== */
.container {
  max-width: 900px;
  margin: 0 auto;
}

/* ===== Título ===== */
h1 {
  text-align: center;
  color: #1E88E5;
  font-size: 32px;
  margin-bottom: 30px;
}

/* ===== Barra de pesquisa ===== */
.input-lupa {
  position: relative;
  width: 100%;
  margin-bottom: 20px;
}

.input-lupa img {
  position: absolute;
  left: 12px;
  top: 50%;
  transform: translateY(-50%);
  width: 24px;
  height: 24px;
}

.input-lupa input {
  width: 100%;
  padding: 10px 10px 10px 40px;
  font-size: 16px;
  border: 2px solid #E0E0E0;
  border-radius: 12px;
  background: #FCFCFC;
  color: #212121;
  transition: border 0.3s, box-shadow 0.3s;
}

.input-lupa input:focus {
  border-color: #1E88E5;
  box-shadow: 0 0 10px rgba(30,136,229,0.3);
  outline: none;
}

/* ===== Lista dropdown ===== */
#listaItens {
  border: 2px solid #E0E0E0;
  border-radius: 12px;
  max-height: 200px;
  overflow-y: auto;
  background: #FCFCFC;
  padding: 0;
  margin: 0;
  position: relative;
  z-index: 10;
}

#listaItens li {
  list-style: none;
  padding: 10px 15px;
  font-size: 16px;
  cursor: pointer;
  border-bottom: 1px solid #BDBDBD;
  transition: background 0.2s, color 0.2s;
}

#listaItens li:hover {
  background: #1E88E5;
  color: #FFFFFF;
  font-weight: bold;
}

/* ===== Card de item ===== */
.card-item {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  align-items: center;
  background: #FCFCFC;
  border-radius: 12px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  padding: 15px;
  margin-bottom: 15px;
  transition: transform 0.2s, box-shadow 0.2s;
}

.card-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

.card-item .info {
  flex: 2;
  font-size: 18px;
  font-weight: 500;
  color: #333333;
}

.card-item .input-group {
  display: flex;
  flex: 3;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
}

.card-item input[type=number], .card-item select {
  font-size: 16px;
  padding: 6px 8px;
  border-radius: 8px;
  border: 2px solid #E0E0E0;
  background: #FAF9F6;
  color: #212121;
  text-align: center;
  width: 100px;
  transition: border 0.3s;
}

.card-item input[type=number]:focus, .card-item select:focus {
  border-color: #1E88E5;
  outline: none;
}

/* ===== Botão remover ===== */
.card-item button {
  background: #E53935;
  color: #FFFFFF;
  border: none;
  padding: 8px 16px;
  border-radius: 8px;
  font-weight: 500;
  font-size: 16px;
  cursor: pointer;
  transition: background 0.2s, transform 0.2s;
}

.card-item button:hover {
  background: #C62828;
  transform: scale(1.05);
}

/* ===== Total ===== */
.total {
  text-align: right;
  font-size: 24px;
  font-weight: bold;
  color: #1E88E5;
  margin-top: 20px;
}

/* ===== Responsivo ===== */
@media(max-width: 600px){
  .card-item {
    flex-direction: column;
    align-items: flex-start;
  }
  .card-item .input-group {
    flex-wrap: wrap;
  }
}
</style>
</head>
<body>
<div class="container">
<h1>Calculadora de Custos Profissional</h1>

<div class="input-lupa">
  <img src="https://img.icons8.com/ios-glyphs/30/000000/search--v1.png" alt="lupa">
  <input type="text" id="busca" placeholder="Digite para buscar..." onkeyup="filtrarLista()">
</div>
<ul id="listaItens"></ul>

<div id="cardsContainer"></div>

<p class="total">Custo total: R$ <span id="total">0.00</span></p>
</div>

<script>
// Lista de ingredientes
const ingredientes = [
"Ácido Cítrico","Açúcar Refinado","Açúcar Sc.","Ajinomoto","Alho Natural","Amido de milho",
"Aroma de Baunilha","Aroma de Cebola","Aroma de Chocolate","Aroma de Leite Condensado","Aroma de Coco",
"Aroma de Três Leite","Aroma de Maisena","Aroma de Manteiga","Aroma de Maria","Aroma de Milho",
"Aroma Alho","Caramelo","Aroma de Queijo Parmesão","Bicarbonato de Amônio","Bicarbonato de Sódio",
"Cacau em pó","Cebola Natural Roxa","Caixa de Papelão","Emb. Saco Fd. 50x80","Chocolate em Pó",
"Embalagem Transp. Lisa","Embalagem folhada Cebola","Embalagem folhada Alho","Embalagem Folhada Manteiga",
"Milho Inatura","Farelo","Fubá de milho","Embalagem Milho","Ezimas","Embalagem 8 Grãos",
"Embalagem Água e Sal","Embalagem Integral","Emb. Rainha Maisena","Emb. Rainha Leite","Emb. Rainha Cracker",
"Emb. Rainha Rosca Leite","Emb. Rainha Rosca Chocolate","Emb. Rainha Rosca Coco","Emb. Rainha Manteiga",
"Emb. Rainha Alho","Emb. Rainha Cebola","Farinha de Trigo Fama Panificação","Farinha de Trigo Panete Comum",
"Farinha de Trigo Evita 2","Fécula de Mandioca","Fermento Instantâneo","Gordura Agropalma","Lecetina de Soja",
"Manteiga Itacolomir","Margarina Folhada Rica","Margarina puro sabor","Margarina","Mel Caseiro",
"Metabisulfito","Óleo de Soja","Milho Gelatinizado","Gordura Líquida Vegetal","Paulialfa","Paulitase",
"Paulivita","Pirofosfato","Sal Micronizado","Sal Refinado","Soro de Leite","Unimelo","Etiquetas Conchita",
"Embalagem de Caixa p/ Folhada","Óleo Pronto Cebola","Filme Rezinite","Fita Sela Caixa","Gelatina de Milho",
"Embalagem Flocão","Embalagem Dallato Leite","Embalagem Dallato Coco","Embalagem Dallato Chocolate",
"Aroma de Limão","Farofa","B. de Amônio","Farinha de Trigo Sc","Sal","Margarina M. Ouro","Amido de Milho",
"Gordura Hid.","Tempero Cebola","Tempero Mant.","Tempero Alho","Esponja","Fermento","Paulivita",
"Açúcar"
].sort();

const unidades = [
  { label: "Unidade", value: "un" },
  { label: "Quilo (kg)", value: "kg" },
  { label: "Grama (g)", value: "g" },
  { label: "Litro (L)", value: "L" },
  { label: "Mililitro (ml)", value: "ml" }
];

const listaUL = document.getElementById("listaItens");
const cardsContainer = document.getElementById("cardsContainer");
let itensAdicionados = {};

// Mostrar lista
function mostrarLista(itens) {
  listaUL.innerHTML = "";
  itens.forEach(item => {
    if(itensAdicionados[item]) return;
    const li = document.createElement("li");
    li.textContent = item;
    li.onclick = () => adicionarItem(item);
    listaUL.appendChild(li);
  });
}

mostrarLista(ingredientes);

// Filtrar
function filtrarLista() {
  const txt = document.getElementById("busca").value.toLowerCase();
  mostrarLista(ingredientes.filter(i => i.toLowerCase().includes(txt)));
}

// Adicionar item
function adicionarItem(nome){
  if(itensAdicionados[nome]) return;
  itensAdicionados[nome] = true;

  const card = document.createElement("div");
  card.className = "card-item";
  card.dataset.nome = nome;

  card.innerHTML = `
    <div class="info">${nome}</div>
    <div class="input-group">
      <input type="number" placeholder="Custo" step="0.01" oninput="calcular()">
      <input type="number" placeholder="Qtd" step="0.001" oninput="calcular()">
      <select onchange="calcular()">
        ${unidades.map(u => `<option value="${u.value}">${u.label}</option>`).join("")}
      </select>
      <div class="custo">R$ 0.00</div>
      <button onclick="removerItem(this)">Remover</button>
    </div>
  `;
  cardsContainer.appendChild(card);
  document.getElementById("busca").value = "";
  mostrarLista(ingredientes);
}

// Calcular total
function calcular(){
  let total = 0;
  document.querySelectorAll(".card-item").forEach(card => {
    const custo = parseFloat(card.querySelector("input[type=number]").value) || 0;
    const qtd = parseFloat(card.querySelectorAll("input[type=number]")[1].value) || 0;
    const subtotal = custo * qtd;
    card.querySelector(".custo").textContent = "R$ " + subtotal.toFixed(2);
    total += subtotal;
  });
  document.getElementById("total").textContent = total.toFixed(2);
}

// Remover item
function removerItem(botao){
  const card = botao.closest(".card-item");
  delete itensAdicionados[card.dataset.nome];
  card.remove();
  calcular();
  mostrarLista(ingredientes);
}
</script>
</body>
</html>
